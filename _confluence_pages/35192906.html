---
layout: single
title: "Confluence Site Converter"
date: "2023-02-26T08:51:56.560Z"
toc: true
toc_sticky: true
tags:
---
<h1 id="ConfluenceSiteConverter-Overview">
 Overview
</h1>
<h1 id="ConfluenceSiteConverter-Features">
 Features
</h1>
<ul>
 <li>
  <p>
   Content Retrieval from Confluence
  </p>
 </li>
 <li>
  <p>
   HTML Conversion
  </p>
 </li>
 <li>
  <p>
   Metadata generation for Jekyll
  </p>
 </li>
 <li>
  <p>
   (We may consider publishing the source code and Actions?)
  </p>
 </li>
</ul>
<h1 id="ConfluenceSiteConverter-Resources">
 Resources
</h1>
<ul>
 <li>
  <p>
   <a class="external-link" href="https://ocaml.org/learn/tutorials/guidelines.html" rel="nofollow">https://ocaml.org/learn/tutorials/guidelines.html</a>
  </p>
 </li>
 <li>
  <p>
   <a class="external-link" href="https://wiki.xenproject.org/wiki/OCaml_Best_Practices_for_Developers" rel="nofollow">https://wiki.xenproject.org/wiki/OCaml_Best_Practices_for_Developers</a>
  </p>
 </li>
 <li>
  <p>
   <a class="external-link" href="https://github.com/ocaml-community/awesome-ocaml" rel="nofollow">https://github.com/ocaml-community/awesome-ocaml</a>
  </p>
 </li>
 <li>
  <p>
   Confluence API
  </p>
  <ul>
   <li>
    <p>
     <a class="external-link" data-card-appearance="inline" href="https://developer.atlassian.com/cloud/confluence/rest/api-group-content/#api-wiki-rest-api-content-id-get" rel="nofollow">https://developer.atlassian.com/cloud/confluence/rest/api-group-content/#api-wiki-rest-api-content-id-get</a>
    </p>
   </li>
  </ul>
 </li>
</ul>
<h2 id="ConfluenceSiteConverter-SourceCode">
 Source Code
</h2>
<ul>
 <li>
  <p>
   <a class="external-link" data-card-appearance="inline" href="https://github.com/haruki-sugarsun/confluenece_site_converter" rel="nofollow">https://github.com/haruki-sugarsun/confluenece_site_converter</a>
  </p>
 </li>
</ul>
<p>
 <br>
</p>
<h1 id="ConfluenceSiteConverter-TechnicalStack">
 Technical Stack
</h1>
<h2 id="ConfluenceSiteConverter-OCaml">
 OCaml
</h2>
<ul>
 <li>
  <p>
   OCaml
  </p>
 </li>
 <li>
  <p>
   OPAM
  </p>
 </li>
 <li>
  <p>
   TODO: dune
  </p>
 </li>
</ul>
<h2 id="ConfluenceSiteConverter-UsedLibraries">
 Used Libraries
</h2>
<ul>
 <li>
  <p>
   HTML manipulation <a class="external-link" href="http://aantron.github.io/lambdasoup/" rel="nofollow">http://aantron.github.io/lambdasoup/</a>
  </p>
 </li>
 <li>
  <p>
   JSON processing Yojson&nbsp;<a class="external-link" href="https://github.com/ocaml-community/yojson" rel="nofollow">https://github.com/ocaml-community/yojson</a>
  </p>
  <ul>
   <li>
    <p>
     <a class="external-link" href="https://ocaml-community.github.io/yojson/yojson/Yojson/index.html" rel="nofollow">https://ocaml-community.github.io/yojson/yojson/Yojson/index.html</a>
    </p>
   </li>
   <li>
    <p>
     <a class="external-link" href="https://mjambon.github.io/mjambon2016/yojson-doc/Yojson.html" rel="nofollow">https://mjambon.github.io/mjambon2016/yojson-doc/Yojson.html</a>
    </p>
   </li>
  </ul>
 </li>
 <li>
  <p>
   HTTP Client ocaml-cohttp&nbsp;<a class="external-link" href="https://github.com/mirage/ocaml-cohttp" rel="nofollow">https://github.com/mirage/ocaml-cohttp</a>
  </p>
  <ul>
   <li>
    <p>
     <a class="external-link" href="https://mirage.github.io/ocaml-cohttp/" rel="nofollow">https://mirage.github.io/ocaml-cohttp/</a>
    </p>
   </li>
  </ul>
 </li>
 <li>
  <p>
   Command-Line Parsing
  </p>
  <ul>
   <li>
    <p>
     ocaml-getopt&nbsp;<a class="external-link" href="http://alain.frisch.fr/soft.html#Getopt" rel="nofollow">http://alain.frisch.fr/soft.html#Getopt</a>
    </p>
    <ul>
     <li>
      <p>
       ?
      </p>
     </li>
    </ul>
   </li>
   <li>
    <p>
     or Core's Command&nbsp;<a class="external-link" href="https://github.com/janestreet/core" rel="nofollow">https://github.com/janestreet/core</a>
    </p>
    <ul>
     <li>
      <p>
       <a class="external-link" href="https://ocaml.janestreet.com/ocaml-core/latest/doc/core/Core/Command/" rel="nofollow">https://ocaml.janestreet.com/ocaml-core/latest/doc/core/Core/Command/</a>
      </p>
      <ul>
       <li>
        <p>
         <a class="external-link" href="https://github.com/janestreet/core/blob/v0.14/src/core_command.mli" rel="nofollow">https://github.com/janestreet/core/blob/v0.14/src/core_command.mli</a>&nbsp;is the one available in opam.(latest stable?)
        </p>
       </li>
       <li>
        <p>
         <a class="external-link" href="https://www.brendanlong.com/how-to-use-corecommandparam.html" rel="nofollow">https://www.brendanlong.com/how-to-use-corecommandparam.html</a>
        </p>
       </li>
      </ul>
     </li>
     <li>
      <p>
       <a class="external-link" href="https://dev.realworldocaml.org/command-line-parsing.html" rel="nofollow">https://dev.realworldocaml.org/command-line-parsing.html</a>
      </p>
     </li>
     <li>
      <p>
       â†’ Learned that Core overrides the standard lib namespace.&nbsp;<a class="external-link" href="https://ocaml.janestreet.com/ocaml-core/109.55.00/tmp/core_kernel/Core_list.html" rel="nofollow">https://ocaml.janestreet.com/ocaml-core/109.55.00/tmp/core_kernel/Core_list.html</a>&nbsp;interesting~
      </p>
      <ul>
       <li>
        <p>
         <a class="external-link" href="https://discuss.ocaml.org/t/what-is-the-preferable-solution-for-the-role-of-standard-library/1092" rel="nofollow">https://discuss.ocaml.org/t/what-is-the-preferable-solution-for-the-role-of-standard-library/1092</a>
        </p>
       </li>
      </ul>
     </li>
     <li>
      <p>
       Random investigation note:
      </p>
      <ul>
       <li>
        <p>
         &gt; ls -a <a class="external-link" href="http://cmd.ml/" rel="nofollow">cmd.ml</a> | entr ocamlfind ocamlopt -package core,ppx_let,ppx_jane,async,core.top,core_kernel <a class="external-link" href="http://cmd.ml/" rel="nofollow">cmd.ml</a>
        </p>
       </li>
      </ul>
     </li>
     <li>
      <p>
       command-line param&nbsp;http://ocaml.jp/?Arg
      </p>
     </li>
    </ul>
   </li>
  </ul>
 </li>
 <li>
  <p>
   TODO: Logging
  </p>
  <ul>
   <li>
    <p>
     <a class="external-link" href="https://github.com/codinuum/volt" rel="nofollow">https://github.com/codinuum/volt</a>
    </p>
   </li>
  </ul>
 </li>
 <li>
  <p>
   TODO: https://opam.ocaml.org/packages/sqlite3/
  </p>
  <ul>
   <li>
    <p>
     maybe just storing as JSON is enough? :p
    </p>
   </li>
  </ul>
 </li>
</ul>
<p></p>
<h1 id="ConfluenceSiteConverter-ForJekyll">
 For Jekyll
</h1>
<p>
 TODO: better page structure
</p>
<ul>
 <li>
  <p>
   <a class="external-link" href="https://mmistakes.github.io/minimal-mistakes/docs/stylesheets/" rel="nofollow">https://mmistakes.github.io/minimal-mistakes/docs/stylesheets/</a>
  </p>
 </li>
</ul>
<h1 id="ConfluenceSiteConverter-References">
 References
</h1>

