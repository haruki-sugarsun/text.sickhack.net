---
layout: single
title: "2024-03-23 警察のご厄介にThanks a lot"
date: "2024-03-23T06:43:55.809Z"
toc: true
toc_sticky: true
tags:
---
<p></p>
<p></p>
<p></p>
<p>
 また、
</p>
<blockquote>
 <p>
  あなた
 </p>
 <p>
  we have a function receiving a callback. can we wrap it into a async function?
 </p>
 <p>
  ChatGPT
 </p>
 <p>
  Yes, you can wrap a function that uses a callback pattern into an asynchronous function using <code>async/await</code> by returning a new <code>Promise</code>. This approach allows you to work with callback-based functions in an asynchronous manner, making your code cleaner and easier to read, especially if you're dealing with multiple asynchronous operations.
 </p>
 <p>
  Here’s a general structure for wrapping a callback-based function into an async function:
 </p>
 <p>
  …..
 </p>
</blockquote>
<p>
 ということで、
</p>
<div>
 <div>
  <pre>// Wrap the callback-based function in a promise
function asyncChromeApiWrapper (originalFunctionWithCallback, arg) {
  return new Promise((resolve, reject) =&gt; {
    originalFunctionWithCallback(arg, (ret) =&gt; {
      resolve(ret)
    })
  })
}</pre>
 </div>
</div>

